var le=Object.defineProperty;var o=(y,v)=>le(y,"name",{value:v,configurable:!0});import{a as e,t as a,e as q,s as m,f as b,c as t}from"../chunks/disclose-version.BucBxo4S.js";import{p as ce,I as _e,r as f,a as pe,l as r,J as n,K as s}from"../chunks/runtime.PM082qKs.js";import{d as ge,s as k,a as ue}from"../chunks/render.DV4Pg5-E.js";import{i as d}from"../chunks/if.C37vJmjH.js";import{e as L,i as B}from"../chunks/context.qpJfU0IM.js";import{u as me,s as G,p as be}from"../chunks/stores.DGAzmXNX.js";import{u as fe,c as ye}from"../chunks/createQuery.kb7HYXaV.js";var he=a("ðŸŒ€ Loading rows...",1),$e=a("<pre> </pre>"),xe=o((y,v,l)=>v.invalidateQueries({queryKey:r(l)}),"on_click"),qe=a('<th align="left"> </th>'),ke=a('<td align="left" class="svelte-12q53gd"> </td>'),we=a("<tr></tr>"),Qe=a('<div class="scroller svelte-12q53gd"><table class="svelte-12q53gd"><thead><tr></tr></thead><tbody></tbody></table></div>'),Ce=a("<p>No records...</p>"),Ne=a('<div class="action svelte-12q53gd"><button>Refresh</button></div> <!>',1),Ke=a('<section class="svelte-12q53gd"><h3> </h3> <!></section>');function Ie(y,v){ce(v,!0);const l={};me(l);const R=o(()=>G(be,"$page",l),"$page"),i=o(()=>G(r(V),"$rowsQuery",l),"$rowsQuery"),{bindings:H}=_e("appContext"),P=fe();let w=n(()=>R().params.tableName),S=n(()=>R().params.bindingName),U=n(()=>H[r(S)]),j=n(()=>["d1",r(S),"tables",r(w)]),V=n(()=>ye({queryKey:r(j),queryFn:()=>r(U).prepare(`SELECT ROWID AS _id, * FROM ${r(w)}`).all(),select:c=>c.results}));var D=Ke(),I=t(D),X=t(I),Y=m(m(I,!0));d(Y,()=>i().isLoading,c=>{var h=he();e(c,h)},c=>{var h=q(),Z=b(h);d(Z,()=>i().isError,Q=>{var _=$e(),C=t(_);f(()=>k(C,`ðŸ’¥ ${ue(i().error.message)}`)),e(Q,_)},Q=>{var _=q(),C=b(_);d(C,()=>i().isSuccess,ee=>{var A=Ne();const N=n(()=>i().data);var J=b(A),M=t(J);M.__click=[xe,P,j];var re=m(m(J,!0));d(re,()=>r(N).length!==0,K=>{var $=Qe(),te=t($),T=t(te),ae=t(T);L(ae,73,()=>Object.keys(r(N)[0]),B,(p,g,oe)=>{var u=q(),O=b(u);d(O,()=>s(g)!=="_id",x=>{var E=qe(),F=t(E);f(()=>k(F,s(g))),e(x,E)}),e(p,u)});var se=m(T);L(se,77,()=>r(N),(p,g)=>s(p)._id,(p,g,oe)=>{var u=we();L(u,73,()=>Object.entries(s(g)),B,(O,x,E)=>{let F=o(()=>s(s(x))[0],"key"),ie=o(()=>s(s(x))[1],"value");var W=q(),ne=b(W);d(ne,()=>F()!=="_id",de=>{var z=ke(),ve=t(z);f(()=>k(ve,ie())),e(de,z)}),e(O,W)}),e(p,u)}),e(K,$)},K=>{var $=Ce();e(K,$)}),f(()=>M.disabled=i().isFetching),e(ee,A)},null,!0),e(Q,_)},!0),e(c,h)}),f(()=>k(X,r(w))),e(y,D),pe()}o(Ie,"_page");ge(["click"]);export{Ie as component};
