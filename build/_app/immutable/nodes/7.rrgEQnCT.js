var ne=Object.defineProperty;var a=(b,c)=>ne(b,"name",{value:c,configurable:!0});import{a as t,t as o,c as $,b as le}from"../chunks/disclose-version.BbL9ofby.js";import{p as de,Y as ce,t as u,a as _e,f as g,m as e,v as l,c as s,r,s as D}from"../chunks/runtime.DGYXNv_o.js";import{d as pe,s as k}from"../chunks/render.BQbOHs_-.js";import{i as d}from"../chunks/if.6eDf-x_W.js";import{e as A,i as J}from"../chunks/context.CNAOubcP.js";import{s as me,a as P,p as fe}from"../chunks/stores.BDonSuMi.js";import{u as ue,c as ge}from"../chunks/createQuery.RWPW4Ur5.js";var be=o("<pre> </pre>"),ye=a((b,c,y)=>c.invalidateQueries({queryKey:e(y)}),"on_click"),he=o('<th align="left"> </th>'),xe=o('<td align="left" class="svelte-fxvqso"> </td>'),qe=o("<tr></tr>"),$e=o('<div class="scroller svelte-fxvqso"><table class="svelte-fxvqso"><thead><tr></tr></thead><tbody></tbody></table></div>'),ke=o("<p>No records...</p>"),Qe=o('<div class="action svelte-fxvqso"><button>Refresh</button></div> <!>',1),we=o('<section class="svelte-fxvqso"><h3> </h3> <!></section>');function Se(b,c){de(c,!0);const y=me(),I=a(()=>P(fe,"$page",y),"$page"),v=a(()=>P(e(Z),"$rowsQuery",y),"$rowsQuery"),{bindings:U}=ce("appContext"),V=ue();let Q=l(()=>I().params.tableName),M=l(()=>I().params.bindingName),X=l(()=>U[e(M)]),T=l(()=>["d1",e(M),"tables",e(Q)]),Z=l(()=>ge({queryKey:e(T),queryFn:a(()=>e(X).prepare(`SELECT ROWID AS _id, * FROM ${e(Q)}`).all(),"queryFn"),select:a(_=>_.results,"select")}));var w=we(),C=s(w),ee=s(C);r(C);var te=D(C,2);d(te,()=>v().isLoading,_=>{var h=le("ðŸŒ€ Loading rows...");t(_,h)},_=>{var h=$(),re=g(h);d(re,()=>v().isError,N=>{var i=be(),O=s(i);r(i),u(()=>k(O,`ðŸ’¥ ${v().error.message??""}`)),t(N,i)},N=>{var i=$(),O=g(i);d(O,()=>v().isSuccess,ae=>{var W=Qe();const E=l(()=>v().data);var F=g(W),Y=s(F);Y.__click=[ye,V,T],r(F);var se=D(F,2);d(se,()=>e(E).length!==0,K=>{var p=$e(),z=s(p),L=s(z),B=s(L);A(B,21,()=>Object.keys(e(E)[0]),J,(m,x)=>{var n=$(),R=g(n);d(R,()=>e(x)!=="_id",q=>{var f=he(),S=s(f);r(f),u(()=>k(S,e(x))),t(q,f)}),t(m,n)}),r(B),r(L);var G=D(L);A(G,21,()=>e(E),m=>m._id,(m,x)=>{var n=qe();A(n,21,()=>Object.entries(e(x)),J,(R,q)=>{let f=a(()=>e(q)[0],"key"),S=a(()=>e(q)[1],"value");var H=$(),oe=g(H);d(oe,()=>f()!=="_id",ve=>{var j=xe(),ie=s(j);r(j),u(()=>k(ie,S())),t(ve,j)}),t(R,H)}),r(n),t(m,n)}),r(G),r(z),r(p),t(K,p)},K=>{var p=ke();t(K,p)}),u(()=>Y.disabled=v().isFetching),t(ae,W)},null,!0),t(N,i)},!0),t(_,h)}),r(w),u(()=>k(ee,e(Q))),t(b,w),_e()}a(Se,"_page");pe(["click"]);export{Se as component};
