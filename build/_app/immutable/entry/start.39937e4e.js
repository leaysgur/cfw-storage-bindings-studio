var et=Object.defineProperty;var c=(n,r)=>et(n,"name",{value:r,configurable:!0});import{o as we,t as ye}from"../chunks/scheduler.8c8bb1bf.js";import{S as Ge,a as We,I as M,g as Ve,f as Fe,b as ve,c as fe,s as ae,i as be,d as J,e as G,P as Je,h as tt}from"../chunks/singletons.aa65ac69.js";import{u as nt}from"../chunks/parse.457da179.js";function at(n,r){return n==="/"||r==="ignore"?n:r==="never"?n.endsWith("/")?n.slice(0,-1):n:r==="always"&&!n.endsWith("/")?n+"/":n}c(at,"normalize_path");function rt(n){return n.split("%25").map(decodeURI).join("%25")}c(rt,"decode_pathname");function ot(n){for(const r in n)n[r]=decodeURIComponent(n[r]);return n}c(ot,"decode_params");const it=["href","pathname","search","searchParams","toString","toJSON"];function st(n,r){const f=new URL(n);for(const l of it)Object.defineProperty(f,l,{get(){return r(),n[l]},enumerable:!0,configurable:!0});return ct(f),f}c(st,"make_trackable");function ct(n){Object.defineProperty(n,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}c(ct,"disable_hash");const lt="/__data.json";function ft(n){return n.replace(/\/$/,"")+lt}c(ft,"add_data_suffix");function ut(...n){let r=5381;for(const f of n)if(typeof f=="string"){let l=f.length;for(;l;)r=r*33^f.charCodeAt(--l)}else if(ArrayBuffer.isView(f)){const l=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);let h=l.length;for(;h;)r=r*33^l[--h]}else throw new TypeError("value must be a string or TypedArray");return(r>>>0).toString(36)}c(ut,"hash");const He=window.fetch;window.fetch=(n,r)=>((n instanceof Request?n.method:(r==null?void 0:r.method)||"GET")!=="GET"&&re.delete(ke(n)),He(n,r));const re=new Map;function dt(n,r){const f=ke(n,r),l=document.querySelector(f);if(l!=null&&l.textContent){const{body:h,...S}=JSON.parse(l.textContent),x=l.getAttribute("data-ttl");return x&&re.set(f,{body:h,init:S,ttl:1e3*Number(x)}),Promise.resolve(new Response(h,S))}return window.fetch(n,r)}c(dt,"initial_fetch");function pt(n,r,f){if(re.size>0){const l=ke(n,f),h=re.get(l);if(h){if(performance.now()<h.ttl&&["default","force-cache","only-if-cached",void 0].includes(f==null?void 0:f.cache))return new Response(h.body,h.init);re.delete(l)}}return window.fetch(r,f)}c(pt,"subsequent_fetch");function ke(n,r){let l=`script[data-sveltekit-fetched][data-url=${JSON.stringify(n instanceof Request?n.url:n)}]`;if(r!=null&&r.headers||r!=null&&r.body){const h=[];r.headers&&h.push([...new Headers(r.headers)].join(",")),r.body&&(typeof r.body=="string"||ArrayBuffer.isView(r.body))&&h.push(r.body),l+=`[data-hash="${ut(...h)}"]`}return l}c(ke,"build_selector");const ht=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function gt(n){const r=[];return{pattern:n==="/"?/^\/$/:new RegExp(`^${_t(n).map(l=>{const h=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(l);if(h)return r.push({name:h[1],matcher:h[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const S=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(l);if(S)return r.push({name:S[1],matcher:S[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!l)return;const x=l.split(/\[(.+?)\](?!\])/);return"/"+x.map((m,_)=>{if(_%2){if(m.startsWith("x+"))return Se(String.fromCharCode(parseInt(m.slice(2),16)));if(m.startsWith("u+"))return Se(String.fromCharCode(...m.slice(2).split("-").map(U=>parseInt(U,16))));const g=ht.exec(m);if(!g)throw new Error(`Invalid param: ${m}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,T,N,D,I]=g;return r.push({name:D,matcher:I,optional:!!T,rest:!!N,chained:N?_===1&&x[0]==="":!1}),N?"(.*?)":T?"([^/]*)?":"([^/]+?)"}return Se(m)}).join("")}).join("")}/?$`),params:r}}c(gt,"parse_route_id");function mt(n){return!/^\([^)]+\)$/.test(n)}c(mt,"affects_path");function _t(n){return n.slice(1).split("/").filter(mt)}c(_t,"get_route_segments");function wt(n,r,f){const l={},h=n.slice(1),S=h.filter(y=>y!==void 0);let x=0;for(let y=0;y<r.length;y+=1){const m=r[y];let _=h[y-x];if(m.chained&&m.rest&&x&&(_=h.slice(y-x,y+1).filter(g=>g).join("/"),x=0),_===void 0){m.rest&&(l[m.name]="");continue}if(!m.matcher||f[m.matcher](_)){l[m.name]=_;const g=r[y+1],T=h[y+1];g&&!g.rest&&g.optional&&T&&m.chained&&(x=0),!g&&!T&&Object.keys(l).length===S.length&&(x=0);continue}if(m.optional&&m.chained){x++;continue}return}if(!x)return l}c(wt,"exec");function Se(n){return n.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}c(Se,"escape");function yt({nodes:n,server_loads:r,dictionary:f,matchers:l}){const h=new Set(r);return Object.entries(f).map(([y,[m,_,g]])=>{const{pattern:T,params:N}=gt(y),D={id:y,exec:I=>{const U=T.exec(I);if(U)return wt(U,N,l)},errors:[1,...g||[]].map(I=>n[I]),layouts:[0,..._||[]].map(x),leaf:S(m)};return D.errors.length=D.layouts.length=Math.max(D.errors.length,D.layouts.length),D});function S(y){const m=y<0;return m&&(y=~y),[m,n[y]]}function x(y){return y===void 0?y:[h.has(y),n[y]]}}c(yt,"parse");function Ye(n){try{return JSON.parse(sessionStorage[n])}catch{}}c(Ye,"get");function Ke(n,r){const f=JSON.stringify(r);try{sessionStorage[n]=f}catch{}}c(Ke,"set");function vt(n){return n.filter(r=>r!=null)}c(vt,"compact");const Xe=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...Xe];const bt=new Set([...Xe]);[...bt];async function St(n){var r;for(const f in n)if(typeof((r=n[f])==null?void 0:r.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(n).map(async([l,h])=>[l,await h])));return n}c(St,"unwrap_promises");const Re=class Re{constructor(r,f){this.status=r,typeof f=="string"?this.body={message:f}:f?this.body=f:this.body={message:`Error: ${r}`}}toString(){return JSON.stringify(this.body)}};c(Re,"HttpError");let H=Re;const Le=class Le{constructor(r,f){this.status=r,this.location=f}};c(Le,"Redirect");let ue=Le;const Et="x-sveltekit-invalidated",xt="x-sveltekit-trailing-slash",W=Ye(Ge)??{},ne=Ye(We)??{};function Ee(n){W[n]=ae()}c(Ee,"update_scroll_positions");function kt(n,r){var Ne;const f=yt(n),l=n.nodes[0],h=n.nodes[1];l(),h();const S=document.documentElement,x=[],y=[];let m=null;const _={before_navigate:[],on_navigate:[],after_navigate:[]};let g={branch:[],error:null,url:null},T=!1,N=!1,D=!0,I=!1,U=!1,K=!1,z=!1,V,C=(Ne=history.state)==null?void 0:Ne[M];C||(C=Date.now(),history.replaceState({...history.state,[M]:C},"",location.href));const de=W[C];de&&(history.scrollRestoration="manual",scrollTo(de.x,de.y));let F,Y,Q;async function Ae(){if(Q=Q||Promise.resolve(),await Q,!Q)return;Q=null;const e=new URL(location.href),i=ee(e,!0);m=null;const t=Y={},o=i&&await ge(i);if(t===Y&&o){if(o.type==="redirect")return oe(new URL(o.location,e).href,{},1,t);o.props.page!==void 0&&(F=o.props.page),V.$set(o.props)}}c(Ae,"invalidate");function Pe(e){y.some(i=>i==null?void 0:i.snapshot)&&(ne[e]=y.map(i=>{var t;return(t=i==null?void 0:i.snapshot)==null?void 0:t.capture()}))}c(Pe,"capture_snapshot");function Oe(e){var i;(i=ne[e])==null||i.forEach((t,o)=>{var a,s;(s=(a=y[o])==null?void 0:a.snapshot)==null||s.restore(t)})}c(Oe,"restore_snapshot");function Ue(){Ee(C),Ke(Ge,W),Pe(C),Ke(We,ne)}c(Ue,"persist_state");async function oe(e,{noScroll:i=!1,replaceState:t=!1,keepFocus:o=!1,state:a={},invalidateAll:s=!1},u,v){return typeof e=="string"&&(e=new URL(e,Ve(document))),le({url:e,scroll:i?ae():null,keepfocus:o,redirect_count:u,details:{state:a,replaceState:t},nav_token:v,accepted:()=>{s&&(z=!0)},blocked:()=>{},type:"goto"})}c(oe,"goto");async function Ie(e){return m={id:e.id,promise:ge(e).then(i=>(i.type==="loaded"&&i.state.error&&(m=null),i))},m.promise}c(Ie,"preload_data");async function ie(...e){const t=f.filter(o=>e.some(a=>o.exec(a))).map(o=>Promise.all([...o.layouts,o.leaf].map(a=>a==null?void 0:a[1]())));await Promise.all(t)}c(ie,"preload_code");function $e(e){var o;g=e.state;const i=document.querySelector("style[data-sveltekit]");i&&i.remove(),F=e.props.page,V=new n.root({target:r,props:{...e.props,stores:J,components:y},hydrate:!0}),Oe(C);const t={from:null,to:{params:g.params,route:{id:((o=g.route)==null?void 0:o.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};_.after_navigate.forEach(a=>a(t)),N=!0}c($e,"initialize");async function Z({url:e,params:i,branch:t,status:o,error:a,route:s,form:u}){let v="never";for(const p of t)(p==null?void 0:p.slash)!==void 0&&(v=p.slash);e.pathname=at(e.pathname,v),e.search=e.search;const b={type:"loaded",state:{url:e,params:i,branch:t,error:a,route:s},props:{constructors:vt(t).map(p=>p.node.component)}};u!==void 0&&(b.props.form=u);let w={},A=!F,R=0;for(let p=0;p<Math.max(t.length,g.branch.length);p+=1){const d=t[p],O=g.branch[p];(d==null?void 0:d.data)!==(O==null?void 0:O.data)&&(A=!0),d&&(w={...w,...d.data},A&&(b.props[`data_${R}`]=w),R+=1)}return(!g.url||e.href!==g.url.href||g.error!==a||u!==void 0&&u!==F.form||A)&&(b.props.page={error:a,params:i,route:{id:(s==null?void 0:s.id)??null},status:o,url:new URL(e),form:u??null,data:A?w:F.data}),b}c(Z,"get_navigation_result_from_branch");async function pe({loader:e,parent:i,url:t,params:o,route:a,server_data_node:s}){var w,A,R;let u=null;const v={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},b=await e();if((w=b.universal)!=null&&w.load){let P=function(...d){for(const O of d){const{href:$}=new URL(O,t);v.dependencies.add($)}};c(P,"depends");const p={route:new Proxy(a,{get:(d,O)=>(v.route=!0,d[O])}),params:new Proxy(o,{get:(d,O)=>(v.params.add(O),d[O])}),data:(s==null?void 0:s.data)??null,url:st(t,()=>{v.url=!0}),async fetch(d,O){let $;d instanceof Request?($=d.url,O={body:d.method==="GET"||d.method==="HEAD"?void 0:await d.blob(),cache:d.cache,credentials:d.credentials,headers:d.headers,integrity:d.integrity,keepalive:d.keepalive,method:d.method,mode:d.mode,redirect:d.redirect,referrer:d.referrer,referrerPolicy:d.referrerPolicy,signal:d.signal,...O}):$=d;const q=new URL($,t);return P(q.href),q.origin===t.origin&&($=q.href.slice(t.origin.length)),N?pt($,q.href,O):dt($,O)},setHeaders:()=>{},depends:P,parent(){return v.parent=!0,i()}};u=await b.universal.load.call(null,p)??null,u=u?await St(u):null}return{node:b,loader:e,server:s,universal:(A=b.universal)!=null&&A.load?{type:"data",data:u,uses:v}:null,data:u??(s==null?void 0:s.data)??null,slash:((R=b.universal)==null?void 0:R.trailingSlash)??(s==null?void 0:s.slash)}}c(pe,"load_node");function je(e,i,t,o,a){if(z)return!0;if(!o)return!1;if(o.parent&&e||o.route&&i||o.url&&t)return!0;for(const s of o.params)if(a[s]!==g.params[s])return!0;for(const s of o.dependencies)if(x.some(u=>u(new URL(s))))return!0;return!1}c(je,"has_changed");function he(e,i){return(e==null?void 0:e.type)==="data"?e:(e==null?void 0:e.type)==="skip"?i??null:null}c(he,"create_data_node");async function ge({id:e,invalidating:i,url:t,params:o,route:a}){if((m==null?void 0:m.id)===e)return m.promise;const{errors:s,layouts:u,leaf:v}=a,b=[...u,v];s.forEach(E=>E==null?void 0:E().catch(()=>{})),b.forEach(E=>E==null?void 0:E[1]().catch(()=>{}));let w=null;const A=g.url?e!==g.url.pathname+g.url.search:!1,R=g.route?a.id!==g.route.id:!1;let P=!1;const p=b.map((E,L)=>{var B;const k=g.branch[L],j=!!(E!=null&&E[0])&&((k==null?void 0:k.loader)!==E[1]||je(P,R,A,(B=k.server)==null?void 0:B.uses,o));return j&&(P=!0),j});if(p.some(Boolean)){try{w=await ze(t,p)}catch(E){return se({status:E instanceof H?E.status:500,error:await te(E,{url:t,params:o,route:{id:a.id}}),url:t,route:a})}if(w.type==="redirect")return w}const d=w==null?void 0:w.nodes;let O=!1;const $=b.map(async(E,L)=>{var me;if(!E)return;const k=g.branch[L],j=d==null?void 0:d[L];if((!j||j.type==="skip")&&E[1]===(k==null?void 0:k.loader)&&!je(O,R,A,(me=k.universal)==null?void 0:me.uses,o))return k;if(O=!0,(j==null?void 0:j.type)==="error")throw j;return pe({loader:E[1],url:t,params:o,route:a,parent:async()=>{var Me;const qe={};for(let _e=0;_e<L;_e+=1)Object.assign(qe,(Me=await $[_e])==null?void 0:Me.data);return qe},server_data_node:he(j===void 0&&E[0]?{type:"skip"}:j??null,E[0]?k==null?void 0:k.server:void 0)})});for(const E of $)E.catch(()=>{});const q=[];for(let E=0;E<b.length;E+=1)if(b[E])try{q.push(await $[E])}catch(L){if(L instanceof ue)return{type:"redirect",location:L.location};let k=500,j;if(d!=null&&d.includes(L))k=L.status??k,j=L.error;else if(L instanceof H)k=L.status,j=L.body;else{if(await J.updated.check())return await X(t);j=await te(L,{params:o,url:t,route:{id:a.id}})}const B=await Ce(E,q,s);return B?await Z({url:t,params:o,branch:q.slice(0,B.idx).concat(B.node),status:k,error:j,route:a}):await De(t,{id:a.id},j,k)}else q.push(void 0);return await Z({url:t,params:o,branch:q,status:200,error:null,route:a,form:i?void 0:null})}c(ge,"load_route");async function Ce(e,i,t){for(;e--;)if(t[e]){let o=e;for(;!i[o];)o-=1;try{return{idx:o+1,node:{node:await t[e](),loader:t[e],data:{},server:null,universal:null}}}catch{continue}}}c(Ce,"load_nearest_error_page");async function se({status:e,error:i,url:t,route:o}){const a={};let s=null;if(n.server_loads[0]===0)try{const w=await ze(t,[!0]);if(w.type!=="data"||w.nodes[0]&&w.nodes[0].type!=="data")throw 0;s=w.nodes[0]??null}catch{(t.origin!==location.origin||t.pathname!==location.pathname||T)&&await X(t)}const v=await pe({loader:l,url:t,params:a,route:o,parent:()=>Promise.resolve({}),server_data_node:he(s)}),b={node:await h(),loader:h,universal:null,server:null,data:null};return await Z({url:t,params:a,branch:[v,b],status:e,error:i,route:null})}c(se,"load_root_error_page");function ee(e,i){if(be(e,G))return;const t=ce(e);for(const o of f){const a=o.exec(t);if(a)return{id:e.pathname+e.search,invalidating:i,route:o,params:ot(a),url:e}}}c(ee,"get_navigation_intent");function ce(e){return rt(e.pathname.slice(G.length)||"/")}c(ce,"get_url_path");function Te({url:e,type:i,intent:t,delta:o}){let a=!1;const s=Be(g,t,e,i);o!==void 0&&(s.navigation.delta=o);const u={...s.navigation,cancel:()=>{a=!0,s.reject(new Error("navigation was cancelled"))}};return U||_.before_navigate.forEach(v=>v(u)),a?null:s}c(Te,"before_navigate");async function le({url:e,scroll:i,keepfocus:t,redirect_count:o,details:a,type:s,delta:u,nav_token:v={},accepted:b,blocked:w}){var $,q,E;const A=ee(e,!1),R=Te({url:e,type:s,delta:u,intent:A});if(!R){w();return}const P=C;b(),U=!0,N&&J.navigating.set(R.navigation),Y=v;let p=A&&await ge(A);if(!p){if(be(e,G))return await X(e);p=await De(e,{id:null},await te(new Error(`Not found: ${e.pathname}`),{url:e,params:{},route:{id:null}}),404)}if(e=(A==null?void 0:A.url)||e,Y!==v)return R.reject(new Error("navigation was aborted")),!1;if(p.type==="redirect")if(o>=20)p=await se({status:500,error:await te(new Error("Redirect loop"),{url:e,params:{},route:{id:null}}),url:e,route:{id:null}});else return oe(new URL(p.location,e).href,{},o+1,v),!1;else(($=p.props.page)==null?void 0:$.status)>=400&&await J.updated.check()&&await X(e);if(x.length=0,z=!1,I=!0,Ee(P),Pe(P),(q=p.props.page)!=null&&q.url&&p.props.page.url.pathname!==e.pathname&&(e.pathname=(E=p.props.page)==null?void 0:E.url.pathname),a){const L=a.replaceState?0:1;if(a.state[M]=C+=L,history[a.replaceState?"replaceState":"pushState"](a.state,"",e),!a.replaceState){let k=C+1;for(;ne[k]||W[k];)delete ne[k],delete W[k],k+=1}}if(m=null,N){g=p.state,p.props.page&&(p.props.page.url=e);const L=(await Promise.all(_.on_navigate.map(k=>k(R.navigation)))).filter(k=>typeof k=="function");if(L.length>0){let k=function(){_.after_navigate=_.after_navigate.filter(j=>!L.includes(j))};c(k,"cleanup"),L.push(k),_.after_navigate.push(...L)}V.$set(p.props)}else $e(p);const{activeElement:d}=document;if(await ye(),D){const L=e.hash&&document.getElementById(decodeURIComponent(e.hash.slice(1)));i?scrollTo(i.x,i.y):L?L.scrollIntoView():scrollTo(0,0)}const O=document.activeElement!==d&&document.activeElement!==document.body;!t&&!O&&xe(),D=!0,p.props.page&&(F=p.props.page),U=!1,s==="popstate"&&Oe(C),R.fulfil(void 0),_.after_navigate.forEach(L=>L(R.navigation)),J.navigating.set(null),I=!1}c(le,"navigate");async function De(e,i,t,o){return e.origin===location.origin&&e.pathname===location.pathname&&!T?await se({status:o,error:t,url:e,route:i}):await X(e)}c(De,"server_fallback");function X(e){return location.href=e.href,new Promise(()=>{})}c(X,"native_navigation");function Ze(){let e;S.addEventListener("mousemove",s=>{const u=s.target;clearTimeout(e),e=setTimeout(()=>{o(u,2)},20)});function i(s){o(s.composedPath()[0],1)}c(i,"tap"),S.addEventListener("mousedown",i),S.addEventListener("touchstart",i,{passive:!0});const t=new IntersectionObserver(s=>{for(const u of s)u.isIntersecting&&(ie(ce(new URL(u.target.href))),t.unobserve(u.target))},{threshold:0});function o(s,u){const v=Fe(s,S);if(!v)return;const{url:b,external:w,download:A}=ve(v,G);if(w||A)return;const R=fe(v);if(!R.reload)if(u<=R.preload_data){const P=ee(b,!1);P&&Ie(P)}else u<=R.preload_code&&ie(ce(b))}c(o,"preload");function a(){t.disconnect();for(const s of S.querySelectorAll("a")){const{url:u,external:v,download:b}=ve(s,G);if(v||b)continue;const w=fe(s);w.reload||(w.preload_code===Je.viewport&&t.observe(s),w.preload_code===Je.eager&&ie(ce(u)))}}c(a,"after_navigate"),_.after_navigate.push(a),a()}c(Ze,"setup_preload");function te(e,i){return e instanceof H?e.body:n.hooks.handleError({error:e,event:i})??{message:i.route.id!=null?"Internal Error":"Not Found"}}return c(te,"handle_error"),{after_navigate:e=>{we(()=>(_.after_navigate.push(e),()=>{const i=_.after_navigate.indexOf(e);_.after_navigate.splice(i,1)}))},before_navigate:e=>{we(()=>(_.before_navigate.push(e),()=>{const i=_.before_navigate.indexOf(e);_.before_navigate.splice(i,1)}))},on_navigate:e=>{we(()=>(_.on_navigate.push(e),()=>{const i=_.on_navigate.indexOf(e);_.on_navigate.splice(i,1)}))},disable_scroll_handling:()=>{(I||!N)&&(D=!1)},goto:(e,i={})=>oe(e,i,0),invalidate:e=>{if(typeof e=="function")x.push(e);else{const{href:i}=new URL(e,location.href);x.push(t=>t.href===i)}return Ae()},invalidate_all:()=>(z=!0,Ae()),preload_data:async e=>{const i=new URL(e,Ve(document)),t=ee(i,!1);if(!t)throw new Error(`Attempted to preload a URL that does not belong to this app: ${i}`);await Ie(t)},preload_code:ie,apply_action:async e=>{if(e.type==="error"){const i=new URL(location.href),{branch:t,route:o}=g;if(!o)return;const a=await Ce(g.branch.length,t,o.errors);if(a){const s=await Z({url:i,params:g.params,branch:t.slice(0,a.idx).concat(a.node),status:e.status??500,error:e.error,route:o});g=s.state,V.$set(s.props),ye().then(xe)}}else e.type==="redirect"?oe(e.location,{invalidateAll:!0},0):(V.$set({form:null,page:{...F,form:e.data,status:e.status}}),await ye(),V.$set({form:e.data}),e.type==="success"&&xe())},_start_router:()=>{var i;history.scrollRestoration="manual",addEventListener("beforeunload",t=>{let o=!1;if(Ue(),!U){const a=Be(g,void 0,null,"leave"),s={...a.navigation,cancel:()=>{o=!0,a.reject(new Error("navigation was cancelled"))}};_.before_navigate.forEach(u=>u(s))}o?(t.preventDefault(),t.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Ue()}),(i=navigator.connection)!=null&&i.saveData||Ze(),S.addEventListener("click",t=>{var P;if(t.button||t.which!==1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented)return;const o=Fe(t.composedPath()[0],S);if(!o)return;const{url:a,external:s,target:u,download:v}=ve(o,G);if(!a)return;if(u==="_parent"||u==="_top"){if(window.parent!==window)return}else if(u&&u!=="_self")return;const b=fe(o);if(!(o instanceof SVGAElement)&&a.protocol!==location.protocol&&!(a.protocol==="https:"||a.protocol==="http:")||v)return;if(s||b.reload){Te({url:a,type:"link"})?U=!0:t.preventDefault();return}const[A,R]=a.href.split("#");if(R!==void 0&&A===location.href.split("#")[0]){if(g.url.hash===a.hash){t.preventDefault(),(P=o.ownerDocument.getElementById(R))==null||P.scrollIntoView();return}if(K=!0,Ee(C),e(a),!b.replace_state)return;K=!1,t.preventDefault()}le({url:a,scroll:b.noscroll?ae():null,keepfocus:b.keep_focus??!1,redirect_count:0,details:{state:{},replaceState:b.replace_state??a.href===location.href},accepted:()=>t.preventDefault(),blocked:()=>t.preventDefault(),type:"link"})}),S.addEventListener("submit",t=>{if(t.defaultPrevented)return;const o=HTMLFormElement.prototype.cloneNode.call(t.target),a=t.submitter;if(((a==null?void 0:a.formMethod)||o.method)!=="get")return;const u=new URL((a==null?void 0:a.hasAttribute("formaction"))&&(a==null?void 0:a.formAction)||o.action);if(be(u,G))return;const v=t.target,{keep_focus:b,noscroll:w,reload:A,replace_state:R}=fe(v);if(A)return;t.preventDefault(),t.stopPropagation();const P=new FormData(v),p=a==null?void 0:a.getAttribute("name");p&&P.append(p,(a==null?void 0:a.getAttribute("value"))??""),u.search=new URLSearchParams(P).toString(),le({url:u,scroll:w?ae():null,keepfocus:b??!1,redirect_count:0,details:{state:{},replaceState:R??u.href===location.href},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",async t=>{var o;if(Y={},(o=t.state)!=null&&o[M]){if(t.state[M]===C)return;const a=W[t.state[M]],s=new URL(location.href);if(g.url.href.split("#")[0]===location.href.split("#")[0]){e(s),W[C]=ae(),C=t.state[M],scrollTo(a.x,a.y);return}const u=t.state[M]-C;await le({url:s,scroll:a,keepfocus:!1,redirect_count:0,details:null,accepted:()=>{C=t.state[M]},blocked:()=>{history.go(-u)},type:"popstate",delta:u,nav_token:Y})}else if(!K){const a=new URL(location.href);e(a)}}),addEventListener("hashchange",()=>{K&&(K=!1,history.replaceState({...history.state,[M]:++C},"",location.href))});for(const t of document.querySelectorAll("link"))t.rel==="icon"&&(t.href=t.href);addEventListener("pageshow",t=>{t.persisted&&J.navigating.set(null)});function e(t){g.url=t,J.page.set({...F,url:t}),J.page.notify()}c(e,"update_url")},_hydrate:async({status:e=200,error:i,node_ids:t,params:o,route:a,data:s,form:u})=>{T=!0;const v=new URL(location.href);({params:o={},route:a={id:null}}=ee(v,!1)||{});let b;try{const w=t.map(async(P,p)=>{const d=s[p];return d!=null&&d.uses&&(d.uses=Qe(d.uses)),pe({loader:n.nodes[P],url:v,params:o,route:a,parent:async()=>{const O={};for(let $=0;$<p;$+=1)Object.assign(O,(await w[$]).data);return O},server_data_node:he(d)})}),A=await Promise.all(w),R=f.find(({id:P})=>P===a.id);if(R){const P=R.layouts;for(let p=0;p<P.length;p++)P[p]||A.splice(p,0,void 0)}b=await Z({url:v,params:o,branch:A,status:e,error:i,form:u,route:R??null})}catch(w){if(w instanceof ue){await X(new URL(w.location,location.href));return}b=await se({status:w instanceof H?w.status:500,error:await te(w,{url:v,params:o,route:a}),url:v,route:a})}$e(b)}}}c(kt,"create_client");async function ze(n,r){const f=new URL(n);f.pathname=ft(n.pathname),n.pathname.endsWith("/")&&f.searchParams.append(xt,"1"),f.searchParams.append(Et,r.map(h=>h?"1":"0").join(""));const l=await He(f.href);if(!l.ok)throw new H(l.status,await l.json());return new Promise(async h=>{var g;const S=new Map,x=l.body.getReader(),y=new TextDecoder;function m(T){return nt(T,{Promise:N=>new Promise((D,I)=>{S.set(N,{fulfil:D,reject:I})})})}c(m,"deserialize");let _="";for(;;){const{done:T,value:N}=await x.read();if(T&&!_)break;for(_+=!N&&_?`
`:y.decode(N);;){const D=_.indexOf(`
`);if(D===-1)break;const I=JSON.parse(_.slice(0,D));if(_=_.slice(D+1),I.type==="redirect")return h(I);if(I.type==="data")(g=I.nodes)==null||g.forEach(U=>{(U==null?void 0:U.type)==="data"&&(U.uses=Qe(U.uses),U.data=m(U.data))}),h(I);else if(I.type==="chunk"){const{id:U,data:K,error:z}=I,V=S.get(U);S.delete(U),z?V.reject(m(z)):V.fulfil(m(K))}}}})}c(ze,"load_data");function Qe(n){return{dependencies:new Set((n==null?void 0:n.dependencies)??[]),params:new Set((n==null?void 0:n.params)??[]),parent:!!(n!=null&&n.parent),route:!!(n!=null&&n.route),url:!!(n!=null&&n.url)}}c(Qe,"deserialize_uses");function xe(){const n=document.querySelector("[autofocus]");if(n)n.focus();else{const r=document.body,f=r.getAttribute("tabindex");r.tabIndex=-1,r.focus({preventScroll:!0,focusVisible:!1}),f!==null?r.setAttribute("tabindex",f):r.removeAttribute("tabindex");const l=getSelection();if(l&&l.type!=="None"){const h=[];for(let S=0;S<l.rangeCount;S+=1)h.push(l.getRangeAt(S));setTimeout(()=>{if(l.rangeCount===h.length){for(let S=0;S<l.rangeCount;S+=1){const x=h[S],y=l.getRangeAt(S);if(x.commonAncestorContainer!==y.commonAncestorContainer||x.startContainer!==y.startContainer||x.endContainer!==y.endContainer||x.startOffset!==y.startOffset||x.endOffset!==y.endOffset)return}l.removeAllRanges()}})}}}c(xe,"reset_focus");function Be(n,r,f,l){var m,_;let h,S;const x=new Promise((g,T)=>{h=g,S=T});return x.catch(()=>{}),{navigation:{from:{params:n.params,route:{id:((m=n.route)==null?void 0:m.id)??null},url:n.url},to:f&&{params:(r==null?void 0:r.params)??null,route:{id:((_=r==null?void 0:r.route)==null?void 0:_.id)??null},url:f},willUnload:!r,type:l,complete:x},fulfil:h,reject:S}}c(Be,"create_navigation");async function Ot(n,r,f){const l=kt(n,r);tt({client:l}),f?await l._hydrate(f):l.goto(location.href,{replaceState:!0}),l._start_router()}c(Ot,"start");export{Ot as start};
