var se=Object.defineProperty;var s=(e,t)=>se(e,"name",{value:t,configurable:!0});var B=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var h=(e,t,n)=>(B(e,t,"read from private field"),n?n.call(e):t.get(e)),P=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},S=(e,t,n,r)=>(B(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);import{t as re,a as ie}from"./index.82e26aad.js";import{R as oe,N as W,L as ue}from"./scheduler.868b4e5c.js";import{r as H}from"./index.c7cdf17f.js";function Se(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}s(Se,"ensure_array_like");function Ee(e,t){e.d(1),t.delete(e.key)}s(Ee,"destroy_block");function Ce(e,t){re(e,1,1,()=>{t.delete(e.key)})}s(Ce,"outro_and_destroy_block");function Oe(e,t,n,r,i,c,l,y,d,E,a,w){let b=e.length,p=c.length,m=b;const F={};for(;m--;)F[e[m].key]=m;const u=[],o=new Map,v=new Map,L=[];for(m=p;m--;){const f=w(i,c,m),C=n(f);let O=l.get(C);O?r&&L.push(()=>O.p(f,t)):(O=E(C,f),O.c()),o.set(C,u[m]=O),C in F&&v.set(C,Math.abs(m-F[C]))}const I=new Set,U=new Set;function x(f){ie(f,1),f.m(y,a),l.set(f.key,f),a=f.first,p--}for(s(x,"insert");b&&p;){const f=u[p-1],C=e[b-1],O=f.key,_=C.key;f===C?(a=f.first,b--,p--):o.has(_)?!l.has(O)||I.has(O)?x(f):U.has(_)?b--:v.get(O)>v.get(_)?(U.add(O),x(f)):(I.add(_),b--):(d(C,l),b--)}for(;b--;){const f=e[b];o.has(f.key)||d(f,l)}for(;p;)x(u[p-1]);return oe(L),u}s(Oe,"update_keyed_each");var g,X=(g=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},s(g,"Subscribable"),g),z=typeof window>"u"||"Deno"in window;function Le(){}s(Le,"noop");function je(e,t){return typeof e=="function"?e(t):e}s(je,"functionalUpdate");function Me(e){return typeof e=="number"&&e>=0&&e!==1/0}s(Me,"isValidTimeout");function Fe(e,t){return Math.max(e+(t||0)-Date.now(),0)}s(Fe,"timeUntilStale");function Pe(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:c,queryKey:l,stale:y}=e;if(l){if(r){if(t.queryHash!==ae(l,t.options))return!1}else if(!$(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof y=="boolean"&&t.isStale()!==y||typeof i<"u"&&i!==t.state.fetchStatus||c&&!c(t))}s(Pe,"matchQuery");function Re(e,t){const{exact:n,status:r,predicate:i,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(n){if(T(t.options.mutationKey)!==T(c))return!1}else if(!$(t.options.mutationKey,c))return!1}return!(r&&t.state.status!==r||i&&!i(t))}s(Re,"matchMutation");function ae(e,t){return((t==null?void 0:t.queryKeyHashFn)||T)(e)}s(ae,"hashQueryKeyByOptions");function T(e){return JSON.stringify(e,(t,n)=>q(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}s(T,"hashKey");function $(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!$(e[n],t[n])):!1}s($,"partialMatchKey");function Y(e,t){if(e===t)return e;const n=V(e)&&V(t);if(n||q(e)&&q(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),c=i.length,l=n?[]:{};let y=0;for(let d=0;d<c;d++){const E=n?d:i[d];l[E]=Y(e[E],t[E]),l[E]===e[E]&&y++}return r===c&&y===r?e:l}return t}s(Y,"replaceEqualDeep");function xe(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}s(xe,"shallowEqualObjects");function V(e){return Array.isArray(e)&&e.length===Object.keys(e).length}s(V,"isPlainArray");function q(e){if(!J(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!J(n)||!n.hasOwnProperty("isPrototypeOf"))}s(q,"isPlainObject");function J(e){return Object.prototype.toString.call(e)==="[object Object]"}s(J,"hasObjectPrototype");function Z(e){return new Promise(t=>{setTimeout(t,e)})}s(Z,"sleep");function G(e){Z(0).then(e)}s(G,"scheduleMicrotask");function Ke(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Y(e,t):t}s(Ke,"replaceData");function ke(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}s(ke,"addToEnd");function Ne(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}s(Ne,"addToStart");var R,j,K,A,ce=(A=class extends X{constructor(){super();P(this,R,void 0);P(this,j,void 0);P(this,K,void 0);S(this,K,n=>{if(!z&&window.addEventListener){const r=s(()=>n(),"listener");return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){h(this,j)||this.setEventListener(h(this,K))}onUnsubscribe(){var n;this.hasListeners()||((n=h(this,j))==null||n.call(this),S(this,j,void 0))}setEventListener(n){var r;S(this,K,n),(r=h(this,j))==null||r.call(this),S(this,j,n(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(n){h(this,R)!==n&&(S(this,R,n),this.onFocus())}onFocus(){this.listeners.forEach(n=>{n()})}isFocused(){var n;return typeof h(this,R)=="boolean"?h(this,R):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},R=new WeakMap,j=new WeakMap,K=new WeakMap,s(A,"FocusManager"),A),le=new ce,k,M,N,D,fe=(D=class extends X{constructor(){super();P(this,k,!0);P(this,M,void 0);P(this,N,void 0);S(this,N,n=>{if(!z&&window.addEventListener){const r=s(()=>n(!0),"onlineListener"),i=s(()=>n(!1),"offlineListener");return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}})}onSubscribe(){h(this,M)||this.setEventListener(h(this,N))}onUnsubscribe(){var n;this.hasListeners()||((n=h(this,M))==null||n.call(this),S(this,M,void 0))}setEventListener(n){var r;S(this,N,n),(r=h(this,M))==null||r.call(this),S(this,M,n(this.setOnline.bind(this)))}setOnline(n){h(this,k)!==n&&(S(this,k,n),this.listeners.forEach(i=>{i(n)}))}isOnline(){return h(this,k)}},k=new WeakMap,M=new WeakMap,N=new WeakMap,s(D,"OnlineManager"),D),ee=new fe;function he(e){return Math.min(1e3*2**e,3e4)}s(he,"defaultRetryDelay");function de(e){return(e??"online")==="online"?ee.isOnline():!0}s(de,"canFetch");var Q,te=(Q=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}},s(Q,"CancelledError"),Q);function ge(e){return e instanceof te}s(ge,"isCancelledError");function Ae(e){let t=!1,n=0,r=!1,i,c,l;const y=new Promise((u,o)=>{c=u,l=o}),d=s(u=>{var o;r||(p(new te(u)),(o=e.abort)==null||o.call(e))},"cancel"),E=s(()=>{t=!0},"cancelRetry"),a=s(()=>{t=!1},"continueRetry"),w=s(()=>!le.isFocused()||e.networkMode!=="always"&&!ee.isOnline(),"shouldPause"),b=s(u=>{var o;r||(r=!0,(o=e.onSuccess)==null||o.call(e,u),i==null||i(),c(u))},"resolve"),p=s(u=>{var o;r||(r=!0,(o=e.onError)==null||o.call(e,u),i==null||i(),l(u))},"reject"),m=s(()=>new Promise(u=>{var o;i=s(v=>{const L=r||!w();return L&&u(v),L},"continueFn"),(o=e.onPause)==null||o.call(e)}).then(()=>{var u;i=void 0,r||(u=e.onContinue)==null||u.call(e)}),"pause"),F=s(()=>{if(r)return;let u;try{u=e.fn()}catch(o){u=Promise.reject(o)}Promise.resolve(u).then(b).catch(o=>{var x;if(r)return;const v=e.retry??(z?0:3),L=e.retryDelay??he,I=typeof L=="function"?L(n,o):L,U=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,o);if(t||!U){p(o);return}n++,(x=e.onFail)==null||x.call(e,n,o),Z(I).then(()=>{if(w())return m()}).then(()=>{t?p(o):F()})})},"run");return de(e.networkMode)?F():m().then(F),{promise:y,cancel:d,continue:()=>(i==null?void 0:i())?y:Promise.resolve(),cancelRetry:E,continueRetry:a}}s(Ae,"createRetryer");function ye(){let e=[],t=0,n=s(a=>{a()},"notifyFn"),r=s(a=>{a()},"batchNotifyFn");const i=s(a=>{let w;t++;try{w=a()}finally{t--,t||y()}return w},"batch"),c=s(a=>{t?e.push(a):G(()=>{n(a)})},"schedule"),l=s(a=>(...w)=>{c(()=>{a(...w)})},"batchCalls"),y=s(()=>{const a=e;e=[],a.length&&G(()=>{r(()=>{a.forEach(w=>{n(w)})})})},"flush");return{batch:i,batchCalls:l,schedule:c,setNotifyFunction:s(a=>{n=a},"setNotifyFunction"),setBatchNotifyFunction:s(a=>{r=a},"setBatchNotifyFunction")}}s(ye,"createNotifyManager");var De=ye();const ne="$$_queryClient",Qe=s(()=>{const e=W(ne);if(!e)throw new Error("No QueryClient was found in Svelte context. Did you forget to wrap your component with QueryClientProvider?");return e},"getQueryClientContext"),Ie=s(e=>{ue(ne,e)},"setQueryClientContext"),we="$$_isRestoring",Ue=s(()=>{try{const e=W(we);return e||H(!1)}catch{return H(!1)}},"getIsRestoringContext");export{Qe as A,X as S,De as a,de as b,Ae as c,Re as d,je as e,le as f,T as g,ae as h,ge as i,Se as j,Ee as k,xe as l,Pe as m,Le as n,ee as o,$ as p,Ce as q,Ke as r,Ie as s,Fe as t,Oe as u,Me as v,z as w,Ne as x,ke as y,Ue as z};
